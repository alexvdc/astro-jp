---
import Video from "./Video.astro";
const { text, imageBg, url, videoUrl, videoID } = Astro.props;
const imageURL = `url('${imageBg}')`;
console.log(videoID);

---

<section class="container">
  <div class:list={["container__content", { summary: url }]} set:html={text} />
  {url && <a href={url}>En savoir plus !</a>}
  {videoUrl && <Video srcVideo={videoUrl} videoID={videoID} />}
</section>

<style lang="scss" define:vars={{ imageURL }}>
  .container {
    display: flex;
    justify-content: center;
    align-items: center;
    flex-direction: column;
    font-size: var(--step-0);
    height: 100vh;
    width: 100%;
    background-color: aliceblue;
    background-image: var(--imageURL);
    background-size: cover;
    background-position: center;
    scroll-snap-align: start;

    &__content:not(.summary) {
      position: relative;
      top: 30%;
      transform: translateY(-30%);
      display: flex;
      flex-direction: column;
      max-width: 900px;
      width: 80%;
      backdrop-filter: blur(5px);
      color: #f1f1f1;
    }
    &__content.summary {
      position: relative;
      left: 5rem;
      margin-right: auto;
      max-width: 900px;
      width: 80%;
      color: #f1f1f1;
    }

    a {
      position: relative;
      width: fit-content;
      color: #f3de52;
      // border: 2px solid #9b9b9b;
      padding: 1rem 0.5rem;
      margin: 1rem 0 2rem 0;
      border-radius: 0.5rem;
      transition: transform 0.25s ease-in-out;

      &::after {
        display: none;
        content: "";
        position: absolute;
        left: 0;
        bottom: 0px;
        width: 100%;
        height: 1px;
        background-image: linear-gradient(
          to right,
          transparent,
          #f3de52b8,
          transparent
        );
        transition: position 2s ease-in-out;
      }

      &:hover {
        transform: translateY(-5px);

        &::after {
          display: block;
          bottom: -10px;
        }
      }
    }
  }
</style>
